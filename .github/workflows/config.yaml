BASE_URL: stage.bytebeam.io
FILES: test_login.py
SANITY: regression
content:
  name: Selenium Automation
  true:
    push:
      branches:
      - main
  jobs:
    test:
      runs-on: ubuntu-latest
      steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.x
      - name: Install dependencies
        run: 'python -m pip install --upgrade pip

          pip install -r requirements.txt  # If you have a requirements file

          '
      - name: Create Reports Directory
        run: 'python -c "import os; os.makedirs(''reports'', exist_ok=True)"

          '
      - env:
          BASE_URL: base_url
          FILES: one
          SANITY: 'False'
        name: Run Selenium tests with Firefox
        run: "if [ \"$SANITY\" == \"True\" ]; then\n  pytest -k $FILES --sanity --html=reports/report.html\
          \ --base_url=$BASE_URL\nelse\n  pytest -k test --html=reports/report.html\
          \ --base_url=$BASE_URL\nfi\n"
      - if: always()
        name: Upload Reports as Artifacts
        uses: actions/upload-artifact@v2
        with:
          name: test-reports
          path: reports
sha: a3577d47bf825f359619e2049205082ff68b5ca3
